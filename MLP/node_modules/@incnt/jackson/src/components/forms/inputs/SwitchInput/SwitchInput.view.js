import React from 'react';
import PropTypes from 'prop-types';
import injectSheet from 'react-jss';
import {objstr} from 'config/objectString';
import {styles} from './SwitchInput.styles';

class SwitchInput extends React.Component {
  handleChange = () => {
    this.props.onChange(!this.props.value);
  }

  render() {
    const {classes, className, value, onChange, ...rest} = this.props

    return (
      <label className={objstr({
        [className]: !!className,
        [classes.switch]: true,
        [classes.toggle]: true,
        [classes.checked]: !!value,
      })}>
        <input
          type="checkbox"
          onChange={this.handleChange}
          style={{display: 'none'}}
          checked={value}
          {...rest}/>
      </label>
    )
  }
}

const StyledSwitchInput = injectSheet(styles)(SwitchInput);
StyledSwitchInput.propTypes = {
  className: PropTypes.string,
  value: PropTypes.bool.isRequired,
  onChange: PropTypes.func.isRequired
}

export {StyledSwitchInput}
