import React         from 'react'
import StoryRouter   from 'storybook-react-router'
import {storiesOf}   from '@storybook/react'
import {action}      from '@storybook/addon-actions'
import {checkA11y}   from '@storybook/addon-a11y'
import {DateInput}   from 'components/forms/inputs/DateInput'
import withTests     from 'config/withTests'
import 'stylesheets/index.sass'

storiesOf('Forms/Inputs/DateInput', module)
  .addDecorator(checkA11y)
  .addDecorator(withTests('DateInput'))
  .addDecorator(StoryRouter())
  .add('Default', () => (
    <DateInput
      name={'date_input'}
      onInput={e => action()('Date input', e.target.value, e.target, e)}
      onSelect={val => action()('Selected date', val)}
      handleCancel={(e, val) => action()('Click cancel', e, val)}
      handleOk={(e, val) => action()('Click ok', e, val)}
    />
  ))
  .add('Absolute positioning', () => (
    <div style={{minWidth: '300px'}}>
      <DateInput
        name={'date_input'}
        date={'2018-06-01'}
        onSelect={val => action()('Selected date', val)}
        onInput={e => action()('Date input', e.target.value, e.target, e)}
        handleCancel={(e, val) => action()('Click cancel', e, val)}
        handleOk={(e, val) => action()('Click ok', e, val)}
        active={true}
        position={'static'}
      />
      <p>Something that will get covered</p>
    </div>
  ))
  .add('Selected value', () => (
    <DateInput
      name={'date_input'}
      selectedDate={'2018-06-15'}
      onSelect={val => action()('Selected date', val)}
      onInput={e => action()('Date input', e.target.value, e.target, e)}
      handleCancel={(e, val) => action()('Click cancel', e, val)}
      handleOk={(e, val) => action()('Click ok', e, val)}
    />
  ))
  .add('Viewed month', () => (
    <DateInput
      name={'date_input'}
      date={'2018-06-01'}
      onSelect={val => action()('Selected date', val)}
      onInput={e => action()('Date input', e.target.value, e.target, e)}
      handleCancel={(e, val) => action()('Click cancel', e, val)}
      handleOk={(e, val) => action()('Click ok', e, val)}
    />
  ))
  .add('With label', () => (
    <DateInput
      name={'date_input'}
      date={'2018-06-01'}
      onSelect={val => action()('Selected date', val)}
      onInput={e => action()('Date input', e.target.value, e.target, e)}
      handleCancel={(e, val) => action()('Click cancel', e, val)}
      handleOk={(e, val) => action()('Click ok', e, val)}
      label={'Date of Birth:'}
    />
  ))
  .add('Start opened', () => (
    <DateInput
      name={'date_input'}
      date={'2018-06-01'}
      onSelect={val => action()('Selected date', val)}
      onInput={e => action()('Date input', e.target.value, e.target, e)}
      handleCancel={(e, val) => action()('Click cancel', e, val)}
      handleOk={(e, val) => action()('Click ok', e, val)}
      active={true}
    />
  ))