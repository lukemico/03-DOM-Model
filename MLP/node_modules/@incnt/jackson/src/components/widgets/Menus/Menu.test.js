import React            from 'react'
import {mount, shallow} from 'enzyme'
import {Menu, MenuItem} from 'components/widgets/Menus'

describe('Menu', () => {
  it('should render', () => {
    const tree = shallow(<Menu/>)
    expect(tree).toMatchSnapshot()
  })
  it('should render class names passed as props', () => {
    const tree = mount(<Menu className={'TestClassName'}>Hello</Menu>)
    expect(tree.hasClass('TestClassName')).toEqual(true)
  })
  it('should render children', () => {
    const tree = shallow(
      <Menu>
        <div>Child</div>
      </Menu>,
    )
    expect(tree).toMatchSnapshot()
  })
  it('should render strings provided as children', () => {
    const tree = mount(
      <Menu>
        Child
      </Menu>,
    )
    expect(tree.text()).toContain('Child')
  })
  it('should render with conditionally rendered children', () => {
    const tree = shallow(
      <Menu>
        <MenuItem>Child</MenuItem>
        {false && <MenuItem>Child</MenuItem>}
      </Menu>,
    )
    expect(tree.find(MenuItem)).toHaveLength(1)
  })
})