import React                            from 'react'
import injectSheet                      from 'react-jss'
import color                            from 'color'
import StoryRouter                      from 'storybook-react-router'
import {storiesOf}                      from '@storybook/react'
import {action}                         from '@storybook/addon-actions'
import {checkA11y}                      from '@storybook/addon-a11y'
import withTests                        from 'config/withTests'
import {Button}                         from 'components/forms/buttons'
import {css}                            from 'config/css'
import 'stylesheets/index.sass'

storiesOf('Forms/Buttons', module)
  .addDecorator(StoryRouter())
  .addDecorator(withTests('Button'))
  .addDecorator(checkA11y)
  .add('Default', () => (
    <Button label='Default' onClick={e => action()('Button Click', e)}/>
  ))
  .add('Large', () => (
    <Button label='Large' large={true} onClick={e => action()('Button Click', e)}/>
  ))
  .add('Inverted', () => (
    <Button label='Inverted' inverted={true} onClick={e => action()('Button Click', e)}/>
  ))
  .add('Children', () => (
    <Button onClick={e => action()('Button Click', e)}>
      <i>&#9770;</i>
      &nbsp;
      <span>Label</span>
      &nbsp;
      &nbsp;
      <i>&#9771;</i>
    </Button>
  ))
  .add('Extending', () => (
    <RedButton
      label={'Click Me'}
      onClick={e => action()('Red Button Click', e.target.value, e.target, e)}
    />
  ))


const extendedButtonStyles = {
  redButton: {
    background: css.colors.monza,
    '&:hover': {
      background: color(css.colors.monza).darken(0.2).hex(),
    },
  },
}
const RedButton = injectSheet(extendedButtonStyles)(({classes, ...rest}) => (
  <Button className={classes.redButton} {...rest} />
))