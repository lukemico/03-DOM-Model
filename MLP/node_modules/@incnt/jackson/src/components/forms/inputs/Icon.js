import React       from 'react'
import injectSheet from 'react-jss'
import {css}       from 'config/css'
import {objstr}    from 'config/objectString'

const styles = {
  icon: {
    '&:before, &:after': {
      position: 'absolute',
      display: 'block',
      content: '""',
      left: '50%',
      top: '50%',
      transition: css.transitions.fast,
    },
  },
  search: {
    '&:before': {
      width: '10px',
      height: '10px',
      transform: 'translate(-7px, -7px) rotate(45deg)',
      boxShadow: `0 0 0 1px ${css.colors.regentgrey}`,
      background: 'transparent',
      borderRadius: '100%',
    },
    '&:after': {
      width: '8px',
      height: '2px',
      transform: 'translate(0, 4px) rotate(45deg)',
      boxShadow: `inset 0 0 0 10px ${css.colors.regentgrey}`,
      borderRadius: '2px',
    },
  },
  cancel: {
    '&:before, &:after': {
      width: '14px',
      height: '2px',
      boxShadow: `inset 0 0 0 10px ${css.colors.charade}`,
      borderRadius: '2px',
    },
    '&:before': {
      transform: 'translate(-50%, -50%) rotate(-45deg)',
    },
    '&:after': {
      transform: 'translate(-50%, -50%) rotate(45deg)',
    },
  },
}

const Icon = injectSheet(styles)(({className, classes, type, ...rest}) => (
  <i className={objstr({
    [className]: !!className,
    [classes.icon]: true,
    [classes.cancel]: type === 'cancel',
    [classes.search]: type === 'search',
  })} {...rest}/>
))

export {Icon}