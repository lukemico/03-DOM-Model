import React        from 'react'
import StoryRouter  from 'storybook-react-router'
import {storiesOf}  from '@storybook/react'
import {action}     from '@storybook/addon-actions'
import {checkA11y}  from '@storybook/addon-a11y'
import {PhoneInput} from 'components/forms/inputs/PhoneInput'
import withTests    from 'config/withTests'
import 'stylesheets/index.sass'

storiesOf('Forms/Inputs/PhoneInput', module)
  .addDecorator(StoryRouter())
  .addDecorator(withTests('PhoneInput'))
  .addDecorator(checkA11y)
  .add('Default', () => (
    <PhoneInput
      onCountryChange={e => action()('Country changed', e.target.value, e.target.getAttribute('name'))}
      onNumberChange={e => action()('Number changed', e.target.value, e.target.getAttribute('name'))}
      countryName={'countrycode'}
      numberName={'phonenumber'}
      // is used to fill in aria labels internally. e.g. input will receive "User Phone Number"
      aria-label={'User'}
    />
  ))
  .add('Default values', () => (
    <PhoneInput
      onCountryChange={e => action()('Country changed', e.target.value, e.target.getAttribute('name'))}
      onNumberChange={e => action()('Number changed', e.target.value, e.target.getAttribute('name'))}
      countryName={'countrycode'}
      numberName={'phonenumber'}
      country={'AU'}
      number={'0435 538 221'}
      // is used to fill in aria labels internally. e.g. input will receive "User Phone Number"
      aria-label={'User'}
    />
  ))